{"ast":null,"code":"import _slicedToArray from\"D:/googleauth/googleauth/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{useSelector,useDispatch}from'react-redux';import OrderItem from'./OrderItem';import OrderForm from'./OrderForm';import{deleteOrder}from'../actions/orderActions';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faChevronLeft,faChevronRight}from'@fortawesome/free-solid-svg-icons';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var OrderList=function OrderList(){var orders=useSelector(function(state){return state.orders.orders;})||[];var dispatch=useDispatch();var _useState=useState(''),_useState2=_slicedToArray(_useState,2),searchTerm=_useState2[0],setSearchTerm=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isFormOpen=_useState4[0],setIsFormOpen=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),selectedOrder=_useState6[0],setSelectedOrder=_useState6[1];var _useState7=useState(1),_useState8=_slicedToArray(_useState7,2),currentPage=_useState8[0],setCurrentPage=_useState8[1];var ordersPerPage=10;var handleDeleteOrder=function handleDeleteOrder(orderId){dispatch(deleteOrder(orderId));};var handleEditOrder=function handleEditOrder(order){setSelectedOrder(order);setIsFormOpen(true);};var handleCreateOrder=function handleCreateOrder(){setSelectedOrder(null);setIsFormOpen(true);};var handleCloseForm=function handleCloseForm(){setIsFormOpen(false);setSelectedOrder(null);};var filteredOrders=orders.filter(function(order){return order.customer_name.toLowerCase().includes(searchTerm.toLowerCase());});// Pagination logic\nvar indexOfLastOrder=currentPage*ordersPerPage;var indexOfFirstOrder=indexOfLastOrder-ordersPerPage;var currentOrders=filteredOrders.slice(indexOfFirstOrder,indexOfLastOrder);var nextPage=function nextPage(){if(currentPage<Math.ceil(filteredOrders.length/ordersPerPage)){setCurrentPage(currentPage+1);}};var prevPage=function prevPage(){if(currentPage>1){setCurrentPage(currentPage-1);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"overflow-x-auto\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4 flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search by Customer Name\",className:\"border-green-300 focus:border-indigo-500 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm w-64 px-3 py-2 border rounded-md\",value:searchTerm,onChange:function onChange(e){return setSearchTerm(e.target.value);}}),/*#__PURE__*/_jsx(\"button\",{onClick:handleCreateOrder,className:\"bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline\",children:\"Create New Order\"})]}),/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full bg-white\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 border-b border-gray-200 bg-gray-50 text-left text-xs leading-4 font-medium text-gray-500 uppercase tracking-wider\",children:\"Order ID\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 border-b border-gray-200 bg-gray-50 text-left text-xs leading-4 font-medium text-gray-500 uppercase tracking-wider\",children:\"Customer Name\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 border-b border-gray-200 bg-gray-50 text-left text-xs leading-4 font-medium text-gray-500 uppercase tracking-wider\",children:\"Customer Email\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 border-b border-gray-200 bg-gray-50 text-left text-xs leading-4 font-medium text-gray-500 uppercase tracking-wider\",children:\"Product\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 border-b border-gray-200 bg-gray-50 text-left text-xs leading-4 font-medium text-gray-500 uppercase tracking-wider\",children:\"Quantity\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 border-b border-gray-200 bg-gray-50\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:currentOrders.map(function(order){return/*#__PURE__*/_jsx(OrderItem,{order:order,onDelete:handleDeleteOrder,onEdit:handleEditOrder},order.id);})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 flex justify-center\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:prevPage,className:\"px-3 py-1 border rounded \".concat(currentPage===1?'bg-gray-300 text-gray-500':'bg-blue-500 text-white'),disabled:currentPage===1,children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faChevronLeft})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mx-2\",children:[currentPage,\" of \",Math.ceil(filteredOrders.length/ordersPerPage)]}),/*#__PURE__*/_jsx(\"button\",{onClick:nextPage,className:\"px-3 py-1 border rounded \".concat(currentPage===Math.ceil(filteredOrders.length/ordersPerPage)?'bg-gray-300 text-gray-500':'bg-blue-500 text-white'),disabled:currentPage===Math.ceil(filteredOrders.length/ordersPerPage),children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faChevronRight})})]}),isFormOpen&&/*#__PURE__*/_jsx(OrderForm,{order:selectedOrder,isEditing:!!selectedOrder,onClose:handleCloseForm})]});};export default OrderList;","map":{"version":3,"names":["React","useState","useSelector","useDispatch","OrderItem","OrderForm","deleteOrder","FontAwesomeIcon","faChevronLeft","faChevronRight","OrderList","orders","state","dispatch","searchTerm","setSearchTerm","isFormOpen","setIsFormOpen","selectedOrder","setSelectedOrder","currentPage","setCurrentPage","ordersPerPage","handleDeleteOrder","orderId","handleEditOrder","order","handleCreateOrder","handleCloseForm","filteredOrders","filter","customer_name","toLowerCase","includes","indexOfLastOrder","indexOfFirstOrder","currentOrders","slice","nextPage","Math","ceil","length","prevPage","e","target","value","map","id"],"sources":["D:/googleauth/googleauth/client/src/pages/components/OrderList.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport OrderItem from './OrderItem';\r\nimport OrderForm from './OrderForm';\r\nimport { deleteOrder } from '../actions/orderActions';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faChevronLeft, faChevronRight } from '@fortawesome/free-solid-svg-icons';\r\n\r\nconst OrderList = () => {\r\n  const orders = useSelector(state => state.orders.orders) || [];\r\n  const dispatch = useDispatch();\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [isFormOpen, setIsFormOpen] = useState(false);\r\n  const [selectedOrder, setSelectedOrder] = useState(null);\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const ordersPerPage = 10;\r\n\r\n  const handleDeleteOrder = (orderId) => {\r\n    dispatch(deleteOrder(orderId));\r\n  };\r\n\r\n  const handleEditOrder = (order) => {\r\n    setSelectedOrder(order);\r\n    setIsFormOpen(true);\r\n  };\r\n\r\n  const handleCreateOrder = () => {\r\n    setSelectedOrder(null);\r\n    setIsFormOpen(true);\r\n  };\r\n\r\n  const handleCloseForm = () => {\r\n    setIsFormOpen(false);\r\n    setSelectedOrder(null);\r\n  };\r\n\r\n  const filteredOrders = orders.filter(order =>\r\n    order.customer_name.toLowerCase().includes(searchTerm.toLowerCase())\r\n  );\r\n\r\n  // Pagination logic\r\n  const indexOfLastOrder = currentPage * ordersPerPage;\r\n  const indexOfFirstOrder = indexOfLastOrder - ordersPerPage;\r\n  const currentOrders = filteredOrders.slice(indexOfFirstOrder, indexOfLastOrder);\r\n\r\n  const nextPage = () => {\r\n    if (currentPage < Math.ceil(filteredOrders.length / ordersPerPage)) {\r\n      setCurrentPage(currentPage + 1);\r\n    }\r\n  };\r\n\r\n  const prevPage = () => {\r\n    if (currentPage > 1) {\r\n      setCurrentPage(currentPage - 1);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"overflow-x-auto\">\r\n      <div className=\"mb-4 flex items-center justify-between\">\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Search by Customer Name\"\r\n          className=\"border-green-300 focus:border-indigo-500 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm w-64 px-3 py-2 border rounded-md\"\r\n          value={searchTerm}\r\n          onChange={(e) => setSearchTerm(e.target.value)}\r\n        />\r\n        <button\r\n          onClick={handleCreateOrder}\r\n          className=\"bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline\"\r\n        >\r\n          Create New Order\r\n        </button>\r\n      </div>\r\n      <table className=\"min-w-full bg-white\">\r\n        <thead>\r\n          <tr>\r\n            <th className=\"px-6 py-3 border-b border-gray-200 bg-gray-50 text-left text-xs leading-4 font-medium text-gray-500 uppercase tracking-wider\">Order ID</th>\r\n            <th className=\"px-6 py-3 border-b border-gray-200 bg-gray-50 text-left text-xs leading-4 font-medium text-gray-500 uppercase tracking-wider\">Customer Name</th>\r\n            <th className=\"px-6 py-3 border-b border-gray-200 bg-gray-50 text-left text-xs leading-4 font-medium text-gray-500 uppercase tracking-wider\">Customer Email</th>\r\n            <th className=\"px-6 py-3 border-b border-gray-200 bg-gray-50 text-left text-xs leading-4 font-medium text-gray-500 uppercase tracking-wider\">Product</th>\r\n            <th className=\"px-6 py-3 border-b border-gray-200 bg-gray-50 text-left text-xs leading-4 font-medium text-gray-500 uppercase tracking-wider\">Quantity</th>\r\n            <th className=\"px-6 py-3 border-b border-gray-200 bg-gray-50\"></th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {currentOrders.map(order => (\r\n            <OrderItem key={order.id} order={order} onDelete={handleDeleteOrder} onEdit={handleEditOrder} />\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n      <div className=\"mt-4 flex justify-center\">\r\n        <button\r\n          onClick={prevPage}\r\n          className={`px-3 py-1 border rounded ${currentPage === 1 ? 'bg-gray-300 text-gray-500' : 'bg-blue-500 text-white'}`}\r\n          disabled={currentPage === 1}\r\n        >\r\n          <FontAwesomeIcon icon={faChevronLeft} />\r\n        </button>\r\n        <div className=\"mx-2\">{currentPage} of {Math.ceil(filteredOrders.length / ordersPerPage)}</div>\r\n        <button\r\n          onClick={nextPage}\r\n          className={`px-3 py-1 border rounded ${currentPage === Math.ceil(filteredOrders.length / ordersPerPage) ? 'bg-gray-300 text-gray-500' : 'bg-blue-500 text-white'}`}\r\n          disabled={currentPage === Math.ceil(filteredOrders.length / ordersPerPage)}\r\n        >\r\n          <FontAwesomeIcon icon={faChevronRight} />\r\n        </button>\r\n      </div>\r\n      {isFormOpen && (\r\n        <OrderForm order={selectedOrder} isEditing={!!selectedOrder} onClose={handleCloseForm} />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OrderList;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}