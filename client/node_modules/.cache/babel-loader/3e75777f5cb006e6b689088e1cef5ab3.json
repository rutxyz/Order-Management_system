{"ast":null,"code":"import _regeneratorRuntime from\"D:/googleauth/googleauth/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/googleauth/googleauth/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/googleauth/googleauth/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Routes,Route,Navigate}from\"react-router-dom\";import{useEffect,useState}from\"react\";import axios from\"axios\";import Home from\"./pages/Home\";import Login from\"./pages/Login\";import Signup from\"./pages/Signup\";import\"./App.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var getUser=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var url,_yield$axios$get,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;url=\"\".concat(process.env.REACT_APP_API_URL,\"/auth/login/success\");_context.next=4;return axios.get(url,{withCredentials:true});case 4:_yield$axios$get=_context.sent;data=_yield$axios$get.data;setUser(data.user._json);_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 12:case\"end\":return _context.stop();}}},_callee,null,[[0,9]]);}));return function getUser(){return _ref.apply(this,arguments);};}();useEffect(function(){getUser();},[]);return/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{exact:true,path:\"/\",element:user?/*#__PURE__*/_jsx(Home,{user:user}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\"})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/login\",element:user?/*#__PURE__*/_jsx(Navigate,{to:\"/\"}):/*#__PURE__*/_jsx(Login,{})}),/*#__PURE__*/_jsx(Route,{path:\"/signup\",element:user?/*#__PURE__*/_jsx(Navigate,{to:\"/\"}):/*#__PURE__*/_jsx(Signup,{})})]})});}export default App;","map":{"version":3,"names":["Routes","Route","Navigate","useEffect","useState","axios","Home","Login","Signup","App","user","setUser","getUser","url","process","env","REACT_APP_API_URL","get","withCredentials","data","_json","console","log"],"sources":["D:/googleauth/googleauth/client/src/App.js"],"sourcesContent":["import { Routes, Route, Navigate } from \"react-router-dom\";\nimport { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport Home from \"./pages/Home\";\nimport Login from \"./pages/Login\";\nimport Signup from \"./pages/Signup\";\nimport \"./App.css\";\n\nfunction App() {\n\tconst [user, setUser] = useState(null);\n\n\tconst getUser = async () => {\n\t\ttry {\n\t\t\tconst url = `${process.env.REACT_APP_API_URL}/auth/login/success`;\n\t\t\tconst { data } = await axios.get(url, { withCredentials: true });\n\t\t\tsetUser(data.user._json);\n\t\t} catch (err) {\n\t\t\tconsole.log(err);\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tgetUser();\n\t}, []);\n\n\treturn (\n\t\t<div className=\"container\">\n\t\t\t<Routes>\n\t\t\t\t<Route\n\t\t\t\t\texact\n\t\t\t\t\tpath=\"/\"\n\t\t\t\t\telement={user ? <Home user={user} /> : <Navigate to=\"/login\" />}\n\t\t\t\t/>\n\t\t\t\t<Route\n\t\t\t\t\texact\n\t\t\t\t\tpath=\"/login\"\n\t\t\t\t\telement={user ? <Navigate to=\"/\" /> : <Login />}\n\t\t\t\t/>\n\t\t\t\t<Route\n\t\t\t\t\tpath=\"/signup\"\n\t\t\t\t\telement={user ? <Navigate to=\"/\" /> : <Signup />}\n\t\t\t\t/>\n\t\t\t</Routes>\n\t\t</div>\n\t);\n}\n\nexport default App;\n"],"mappings":"+WAAA,OAASA,MAAT,CAAiBC,KAAjB,CAAwBC,QAAxB,KAAwC,kBAAxC,CACA,OAASC,SAAT,CAAoBC,QAApB,KAAoC,OAApC,CACA,MAAOC,MAAP,KAAkB,OAAlB,CACA,MAAOC,KAAP,KAAiB,cAAjB,CACA,MAAOC,MAAP,KAAkB,eAAlB,CACA,MAAOC,OAAP,KAAmB,gBAAnB,CACA,MAAO,WAAP,C,wFAEA,QAASC,IAAT,EAAe,CACd,cAAwBL,QAAQ,CAAC,IAAD,CAAhC,wCAAOM,IAAP,eAAaC,OAAb,eAEA,GAAMC,QAAO,4FAAG,mLAERC,GAFQ,WAECC,OAAO,CAACC,GAAR,CAAYC,iBAFb,8CAGSX,MAAK,CAACY,GAAN,CAAUJ,GAAV,CAAe,CAAEK,eAAe,CAAE,IAAnB,CAAf,CAHT,uCAGNC,IAHM,kBAGNA,IAHM,CAIdR,OAAO,CAACQ,IAAI,CAACT,IAAL,CAAUU,KAAX,CAAP,CAJc,+EAMdC,OAAO,CAACC,GAAR,cANc,oEAAH,kBAAPV,QAAO,0CAAb,CAUAT,SAAS,CAAC,UAAM,CACfS,OAAO,GACP,CAFQ,CAEN,EAFM,CAAT,CAIA,mBACC,YAAK,SAAS,CAAC,WAAf,uBACC,MAAC,MAAD,yBACC,KAAC,KAAD,EACC,KAAK,KADN,CAEC,IAAI,CAAC,GAFN,CAGC,OAAO,CAAEF,IAAI,cAAG,KAAC,IAAD,EAAM,IAAI,CAAEA,IAAZ,EAAH,cAA0B,KAAC,QAAD,EAAU,EAAE,CAAC,QAAb,EAHxC,EADD,cAMC,KAAC,KAAD,EACC,KAAK,KADN,CAEC,IAAI,CAAC,QAFN,CAGC,OAAO,CAAEA,IAAI,cAAG,KAAC,QAAD,EAAU,EAAE,CAAC,GAAb,EAAH,cAAyB,KAAC,KAAD,IAHvC,EAND,cAWC,KAAC,KAAD,EACC,IAAI,CAAC,SADN,CAEC,OAAO,CAAEA,IAAI,cAAG,KAAC,QAAD,EAAU,EAAE,CAAC,GAAb,EAAH,cAAyB,KAAC,MAAD,IAFvC,EAXD,GADD,EADD,CAoBA,CAED,cAAeD,IAAf"},"metadata":{},"sourceType":"module"}