{"ast":null,"code":"import _slicedToArray from\"D:/googleauth/googleauth/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{useDispatch}from'react-redux';import{addOrder,editOrder}from'../actions/orderActions';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var OrderForm=function OrderForm(_ref){var order=_ref.order,isEditing=_ref.isEditing,onClose=_ref.onClose;var dispatch=useDispatch();// Initialize state variables\nvar _useState=useState(''),_useState2=_slicedToArray(_useState,2),orderId=_useState2[0],setOrderId=_useState2[1];// State for Order ID\nvar _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),customerName=_useState4[0],setCustomerName=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),customerEmail=_useState6[0],setCustomerEmail=_useState6[1];var _useState7=useState('Product 1'),_useState8=_slicedToArray(_useState7,2),product=_useState8[0],setProduct=_useState8[1];var _useState9=useState(1),_useState10=_slicedToArray(_useState9,2),quantity=_useState10[0],setQuantity=_useState10[1];var _useState11=useState(29),_useState12=_slicedToArray(_useState11,2),orderValue=_useState12[0],setOrderValue=_useState12[1];// Default for Product 1\nuseEffect(function(){// Set initial form values when editing an existing order\nif(isEditing&&order){setOrderId(order.id);setCustomerName(order.customer_name);setCustomerEmail(order.customer_email);setProduct(order.product);setQuantity(order.quantity);setOrderValue(order.order_value);}else{// Generate Order ID for new order\nvar generatedId=generateOrderId();setOrderId(generatedId);}},[isEditing,order]);// Function to generate a unique Order ID using current timestamp and random alphanumeric characters\nvar generateOrderId=function generateOrderId(){var timestamp=Date.now().toString(36);// Convert current time to base-36 string\nvar randomChars=Math.random().toString(36).substr(2,5);// Random alphanumeric characters\nreturn\"ORD-\".concat(timestamp,\"-\").concat(randomChars).toLowerCase();// Combine timestamp and random characters\n};var handleProductChange=function handleProductChange(e){var selectedProduct=e.target.value;setProduct(selectedProduct);var productPrices={'Product 1':29,'Product 2':49,'Product 3':149};setOrderValue(productPrices[selectedProduct]*quantity);};var handleQuantityChange=function handleQuantityChange(e){var qty=parseInt(e.target.value,10);setQuantity(qty);var productPrices={'Product 1':29,'Product 2':49,'Product 3':149};setOrderValue(productPrices[product]*qty);};var handleSubmit=function handleSubmit(e){e.preventDefault();var newOrder={id:orderId,customer_name:customerName,customer_email:customerEmail,product:product,quantity:quantity,order_value:orderValue};if(isEditing){dispatch(editOrder(newOrder));}else{dispatch(addOrder(newOrder));}onClose();};return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-gray-600 bg-opacity-50 flex justify-center items-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded shadow-md w-full max-w-md\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl mb-4\",children:isEditing?'Edit Order':'Create New Order'}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-700\",children:\"Customer Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:customerName,onChange:function onChange(e){return setCustomerName(e.target.value);},required:true,className:\"w-full px-3 py-2 border rounded\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-700\",children:\"Customer Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",value:customerEmail,onChange:function onChange(e){return setCustomerEmail(e.target.value);},required:true,className:\"w-full px-3 py-2 border rounded\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-700\",children:\"Product\"}),/*#__PURE__*/_jsxs(\"select\",{value:product,onChange:handleProductChange,className:\"w-full px-3 py-2 border rounded\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"Product 1\",children:\"Product 1\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Product 2\",children:\"Product 2\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Product 3\",children:\"Product 3\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-700\",children:\"Quantity\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:quantity,onChange:handleQuantityChange,min:\"1\",required:true,className:\"w-full px-3 py-2 border rounded\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-700\",children:\"Order Value\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:orderValue,readOnly:true,className:\"w-full px-3 py-2 border rounded\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-red-500 text-sm mb-4\",children:\"Order ID will be automatically generated.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:onClose,className:\"bg-gray-500 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded mr-2\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded\",children:isEditing?'Update Order':'Create Order'})]})]})]})});};export default OrderForm;","map":{"version":3,"names":["React","useState","useEffect","useDispatch","addOrder","editOrder","OrderForm","order","isEditing","onClose","dispatch","orderId","setOrderId","customerName","setCustomerName","customerEmail","setCustomerEmail","product","setProduct","quantity","setQuantity","orderValue","setOrderValue","id","customer_name","customer_email","order_value","generatedId","generateOrderId","timestamp","Date","now","toString","randomChars","Math","random","substr","toLowerCase","handleProductChange","e","selectedProduct","target","value","productPrices","handleQuantityChange","qty","parseInt","handleSubmit","preventDefault","newOrder"],"sources":["D:/googleauth/googleauth/client/src/pages/components/OrderForm.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { addOrder, editOrder } from '../actions/orderActions';\r\n\r\nconst OrderForm = ({ order, isEditing, onClose }) => {\r\n  const dispatch = useDispatch();\r\n\r\n  // Initialize state variables\r\n  const [orderId, setOrderId] = useState(''); // State for Order ID\r\n  const [customerName, setCustomerName] = useState('');\r\n  const [customerEmail, setCustomerEmail] = useState('');\r\n  const [product, setProduct] = useState('Product 1');\r\n  const [quantity, setQuantity] = useState(1);\r\n  const [orderValue, setOrderValue] = useState(29); // Default for Product 1\r\n\r\n  useEffect(() => {\r\n    // Set initial form values when editing an existing order\r\n    if (isEditing && order) {\r\n      setOrderId(order.id);\r\n      setCustomerName(order.customer_name);\r\n      setCustomerEmail(order.customer_email);\r\n      setProduct(order.product);\r\n      setQuantity(order.quantity);\r\n      setOrderValue(order.order_value);\r\n    } else {\r\n      // Generate Order ID for new order\r\n      const generatedId = generateOrderId();\r\n      setOrderId(generatedId);\r\n    }\r\n  }, [isEditing, order]);\r\n\r\n  // Function to generate a unique Order ID using current timestamp and random alphanumeric characters\r\n  const generateOrderId = () => {\r\n    const timestamp = Date.now().toString(36); // Convert current time to base-36 string\r\n    const randomChars = Math.random().toString(36).substr(2, 5); // Random alphanumeric characters\r\n    return `ORD-${timestamp}-${randomChars}`.toLowerCase(); // Combine timestamp and random characters\r\n  };\r\n\r\n  const handleProductChange = (e) => {\r\n    const selectedProduct = e.target.value;\r\n    setProduct(selectedProduct);\r\n    const productPrices = { 'Product 1': 29, 'Product 2': 49, 'Product 3': 149 };\r\n    setOrderValue(productPrices[selectedProduct] * quantity);\r\n  };\r\n\r\n  const handleQuantityChange = (e) => {\r\n    const qty = parseInt(e.target.value, 10);\r\n    setQuantity(qty);\r\n    const productPrices = { 'Product 1': 29, 'Product 2': 49, 'Product 3': 149 };\r\n    setOrderValue(productPrices[product] * qty);\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    const newOrder = {\r\n      id: orderId,\r\n      customer_name: customerName,\r\n      customer_email: customerEmail,\r\n      product,\r\n      quantity,\r\n      order_value: orderValue,\r\n    };\r\n    if (isEditing) {\r\n      dispatch(editOrder(newOrder));\r\n    } else {\r\n      dispatch(addOrder(newOrder));\r\n    }\r\n    onClose();\r\n  };\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-gray-600 bg-opacity-50 flex justify-center items-center\">\r\n      <div className=\"bg-white p-6 rounded shadow-md w-full max-w-md\">\r\n        <h2 className=\"text-2xl mb-4\">{isEditing ? 'Edit Order' : 'Create New Order'}</h2>\r\n        <form onSubmit={handleSubmit}>\r\n          <div className=\"mb-4\">\r\n            <label className=\"block text-gray-700\">Customer Name</label>\r\n            <input\r\n              type=\"text\"\r\n              value={customerName}\r\n              onChange={(e) => setCustomerName(e.target.value)}\r\n              required\r\n              className=\"w-full px-3 py-2 border rounded\"\r\n            />\r\n          </div>\r\n          <div className=\"mb-4\">\r\n            <label className=\"block text-gray-700\">Customer Email</label>\r\n            <input\r\n              type=\"email\"\r\n              value={customerEmail}\r\n              onChange={(e) => setCustomerEmail(e.target.value)}\r\n              required\r\n              className=\"w-full px-3 py-2 border rounded\"\r\n            />\r\n          </div>\r\n          <div className=\"mb-4\">\r\n            <label className=\"block text-gray-700\">Product</label>\r\n            <select\r\n              value={product}\r\n              onChange={handleProductChange}\r\n              className=\"w-full px-3 py-2 border rounded\"\r\n            >\r\n              <option value=\"Product 1\">Product 1</option>\r\n              <option value=\"Product 2\">Product 2</option>\r\n              <option value=\"Product 3\">Product 3</option>\r\n            </select>\r\n          </div>\r\n          <div className=\"mb-4\">\r\n            <label className=\"block text-gray-700\">Quantity</label>\r\n            <input\r\n              type=\"number\"\r\n              value={quantity}\r\n              onChange={handleQuantityChange}\r\n              min=\"1\"\r\n              required\r\n              className=\"w-full px-3 py-2 border rounded\"\r\n            />\r\n          </div>\r\n          <div className=\"mb-4\">\r\n            <label className=\"block text-gray-700\">Order Value</label>\r\n            <input\r\n              type=\"number\"\r\n              value={orderValue}\r\n              readOnly\r\n              className=\"w-full px-3 py-2 border rounded\"\r\n            />\r\n          </div>\r\n          <p className=\"text-red-500 text-sm mb-4\">Order ID will be automatically generated.</p>\r\n          <div className=\"flex justify-end\">\r\n            <button\r\n              type=\"button\"\r\n              onClick={onClose}\r\n              className=\"bg-gray-500 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded mr-2\"\r\n            >\r\n              Cancel\r\n            </button>\r\n            <button\r\n              type=\"submit\"\r\n              className=\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded\"\r\n            >\r\n              {isEditing ? 'Update Order' : 'Create Order'}\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OrderForm;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}